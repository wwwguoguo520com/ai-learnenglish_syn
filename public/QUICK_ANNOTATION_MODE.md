# 快速标注模式说明

## ✨ 新的快速标注流程

### 操作步骤

#### 1️⃣ 激活快速标注模式
- 点击格式工具栏右侧的**"快速标注"**按钮
- 按钮变为深色，文字变为**"退出快速标注"**
- 按钮开始脉冲动画（呼吸效果）

#### 2️⃣ 设置标注样式
在格式工具栏中设置：
- **颜色**：蜜糖/薄荷/天空/兰花/落日（点击对应圆形按钮）
- **加粗**：点击 **B** 按钮
- **下划线**：点击 **U** 按钮

#### 3️⃣ 自动标注
- 在阅读区选择任意文本
- **自动应用**当前设置的样式
- **不弹出**标注对话框
- **自动完成**标注
- 选择自动清除，可以继续标注下一个文本

#### 4️⃣ 退出模式
- 再次点击**"退出快速标注"**按钮
- 按钮恢复蓝色，文字变为**"快速标注"**
- 恢复正常标注流程（选择文本会弹出对话框）

---

## 🎯 模式特点

### ✅ 优势
- **极速标注**：无需每次填写备注和标签
- **批量处理**：快速标注多个相同类型的词汇
- **可视化反馈**：按钮状态清晰指示当前模式
- **流畅体验**：完全静默，无任何提示框打扰

### 🚫 限制
- 不支持添加释义/注释
- 不支持添加标签
- 不支持跨段落标注
- 不能标注已标注的文本

### 💡 适用场景
- **词汇批量标注**：快速标记生词
- **重点句子标注**：快速划出重点
- **颜色分类**：用不同颜色快速分类

---

## 🎨 视觉指示

### 按钮状态

**正常状态（蓝色）：**
```
背景：蓝色 (#2f54eb)
文字：快速标注
效果：正常模式，选择文本会弹出对话框
```

**激活状态（深色）：**
```
背景：深色 (#0f172a)
文字：退出快速标注
效果：快速标注模式，选择文本自动应用样式
动画：脉冲光晕（2秒循环）
```

### 脉冲动画
- 光晕从 3px 扩散到 6px
- 阴影从浅到深再变浅
- 2秒循环，无限重复
- 明确提示当前处于特殊模式

---

## 📝 使用示例

### 示例1：快速标注生词

1. **激活模式**
   - 点击"快速标注"按钮
   - 按钮变深色

2. **设置样式**
   - 选择蜜糖色（黄色）
   - 不加粗，不下划线

3. **批量标注**
   - 选择 "resilience" → 自动标注
   - 选择 "deliberate" → 自动标注
   - 选择 "synthesize" → 自动标注

4. **退出模式**
   - 点击"退出快速标注"

### 示例2：高亮重点句

1. **激活模式** → 点击"快速标注"

2. **设置样式**
   - 选择落日色（橙色）
   - 加粗 ✓

3. **标注重点**
   - 选择重点句子 → 自动高亮加粗
   - 继续选择其他句子 → 自动高亮加粗

4. **退出模式** → 点击"退出快速标注"

### 示例3：彩色分类标注

1. **激活快速标注模式**

2. **标注动词（绿色）**
   - 选择薄荷色
   - 依次选择动词：自动标注

3. **切换为形容词（蓝色）**
   - 选择天空色
   - 依次选择形容词：自动标注

4. **切换为名词（黄色）**
   - 选择蜜糖色
   - 依次选择名词：自动标注

5. **完成后退出**

---

## ⚙️ 技术实现

### 状态管理
```javascript
let quickAnnotationMode = false; // 全局模式开关
```

### 模式切换
```javascript
function applyQuickFormat() {
    quickAnnotationMode = !quickAnnotationMode;

    // 更新按钮
    if (quickAnnotationMode) {
        按钮.classList.add('active');
        按钮.textContent = '退出快速标注';
    } else {
        按钮.classList.remove('active');
        按钮.textContent = '快速标注';
    }
}
```

### 自动标注逻辑
```javascript
function handleTextSelection() {
    // ... 获取选择的文本 ...

    // 如果是快速标注模式
    if (quickAnnotationMode) {
        applyQuickAnnotationToSelection(range);
        return; // 不显示对话框
    }

    // 正常模式：显示对话框
    showToolbar(range);
}
```

---

## 🔄 对比：两种模式

### 正常标注模式
```
1. 选择文本
2. 弹出对话框
3. 选择类型/颜色/样式
4. 填写备注和标签
5. 点击"保存标注"
```
**优点**：功能完整，可添加详细信息
**缺点**：步骤多，批量标注慢

### 快速标注模式
```
1. 点击"快速标注"（激活）
2. 设置样式（一次设置）
3. 选择文本 → 自动标注
4. 选择文本 → 自动标注
5. ...（重复）
6. 点击"退出快速标注"
```
**优点**：极速、批量、无打扰
**缺点**：无法添加备注和标签

---

## 💡 最佳实践

### 推荐工作流

**第一遍阅读**：使用快速标注模式
- 快速标记生词（蜜糖色）
- 快速划出难点（兰花色）
- 快速圈出重点（落日色+加粗）

**第二遍精读**：使用正常模式
- 为生词添加释义
- 为难点添加注释
- 为重点添加标签

### 组合使用技巧

1. **先快后慢**
   - 快速模式：批量标记
   - 正常模式：补充详细信息

2. **分层标注**
   - 第一层：快速标注基本分类
   - 第二层：详细标注重要内容

3. **颜色编码**
   - 快速模式用颜色区分类型
   - 正常模式用标签区分主题

---

**版本**：快速标注 2.0
**更新日期**：2025-10-02
**核心改进**：模式切换 + 脉冲动画 + 静默标注

享受飞速标注体验！⚡️
